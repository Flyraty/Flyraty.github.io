---
title: SSH端口转发
tags: Linux
categories: Linux
abbrlink: 4feffbd0
date: 2020-07-29 14:27:45
---
### 前言
端口转发在工作中经常使用，比如转发客户服务器上的 4040 端口到本地用来查看 Spark UI。前几天，想把本地端口流量转发到远程机器上，有点被绕晕了，遂总结整理一下
<!--more-->

### 为什么需要端口转发
#### 本地端口转发
将发送到本地端口的请求转发到目标端口。常用的场景是网络端口受限情况下，访问目标主机上的服务。
比如现在远程 B 主机上存在 8000 端口 web 服务，想在本地直接访问，那么可以使用以下命令。代表将发往本地 8000 端口的请求全部发往目标主机 8000 端口。
```sh
ssh -L 8000:127.0.0.1:8000 hostB
```
#### 远程端口转发
将发送到远程端口的请求转发到本地，并在待登录主机上访问 host 主机不能直接访问 188.188.188.188:10080 服务
```sh
ssh -R 0.0.0.0:10080:188.188.188.188:10080 host
```
